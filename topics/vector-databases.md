# Векторные базы данных

**Векторная база данных** (vector database) — это специальная база данных, которая хранит и быстро находит данные по их векторным представлениям (эмбеддингам).

В отличие от обычных баз данных, которые ищут по точному совпадению или ключевым словам, векторные базы ищут по смыслу.

## Зачем нужны векторные базы?

Когда у тебя тысячи или миллионы документов, обычный поиск по ключевым словам неэффективен. Векторные базы позволяют:
- Найти документы по смыслу, а не по словам
- Работать с большими объёмами данных
- Быстро находить похожие элементы

## Как это работает?

1. **Индексация**: все документы преобразуются в эмбеддинги и сохраняются в базе
2. **Запрос**: твой запрос тоже преобразуется в эмбеддинг
3. **Поиск**: база находит документы с наиболее похожими эмбеддингами
4. **Ранжирование**: результаты сортируются по степени похожести

## Популярные векторные базы

### Pinecone
- Облачный сервис
- Простой в использовании
- Хорошо масштабируется
- Платный

### Weaviate
- Open-source
- Можно развернуть самому
- Поддерживает гибридный поиск
- Есть облачная версия

### Chroma
- Легковесная
- Хороша для небольших проектов
- Простая интеграция с Python
- Open-source

### Qdrant
- Высокая производительность
- Open-source
- Хорошая документация
- Поддерживает фильтрацию

### Milvus
- Для больших масштабов
- Высокая производительность
- Сложнее в настройке
- Open-source

## Пример использования с RAG

```python
# 1. Создаём эмбеддинги для документов
documents = ["текст документа 1", "текст документа 2"]
embeddings = create_embeddings(documents)

# 2. Сохраняем в векторную базу
vector_db.add(embeddings, documents)

# 3. При запросе пользователя
query_embedding = create_embedding("вопрос пользователя")
similar_docs = vector_db.search(query_embedding, top_k=5)

# 4. Используем найденные документы в промпте для модели
```

## Когда использовать векторные базы?

✅ Большие объёмы документов (тысячи, миллионы)
✅ Нужен семантический поиск
✅ Работа с RAG системами
✅ Рекомендательные системы
✅ Поиск похожего контента

❌ Маленькие объёмы данных (можно обойтись простым поиском)
❌ Нужен только точный поиск по ключевым словам
❌ Очень простые задачи

## Технические особенности

- **Индексация**: специальные алгоритмы (HNSW, IVF) для быстрого поиска
- **Метрики расстояния**: косинусное сходство, евклидово расстояние
- **Фильтрация**: можно комбинировать векторный поиск с фильтрами по метаданным
- **Масштабирование**: горизонтальное масштабирование для больших объёмов

## Стоимость и производительность

- **Облачные решения**: платят за использование, но не нужно настраивать
- **Self-hosted**: бесплатно, но нужна инфраструктура
- **Производительность**: зависит от размера базы и сложности запросов

## Уровень
3

## Примеры из жизни
- База знаний компании с поиском по смыслу
- RAG система для чат-бота с документацией
- Рекомендательная система для контента
- Поиск похожих товаров в интернет-магазине

## Полезные ссылки для этого уровня
- [Pinecone Documentation](https://docs.pinecone.io/)
- [Weaviate Getting Started](https://weaviate.io/developers/weaviate)
- [Chroma Documentation](https://docs.trychroma.com/)

## Заметки
